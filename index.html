<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta
    http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self'; object-src 'none'; base-uri 'self'; frame-ancestors 'none'; form-action 'self'"
  />
  <title>Mapa de Correlatividades – UNPAZ</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <link rel="stylesheet" href="style.css" />
</head>
<body
  data-catalog="data/planes/catalog.json"
  data-plan="data/planes/licenciatura-en-gestion-de-tecnologias-de-la-informacion.materias.json"
  data-author-name="Nahuel"
  data-author-github="https://github.com/n-lem"
>
  <header>
    <div class="header-main">
      <div class="title-row">
        <h1>Mapa de Correlatividades</h1>
      </div>
      <p class="subtitle">Hacé clic en cada materia para registrar tu progreso</p>
    </div>
    <div class="header-controls">
      <div class="career-picker">
        <label for="career-select">Carrera</label>
        <select id="career-select" aria-label="Seleccionar carrera"></select>
      </div>
    </div>
  </header>
  <div class="tools-popover-root">
    <div id="tools-menu" class="tools-menu" hidden>
      <button id="btn-theme" type="button" title="Cambiar tema">Modo oscuro</button>
      <button id="btn-export" type="button" title="Descargar progreso actual">Exportar progreso</button>
      <button id="btn-import" type="button" title="Importar progreso desde archivo">Importar progreso</button>
      <button id="btn-print" type="button" title="Imprimir plan">Imprimir (modo claro)</button>
      <button id="btn-export-png" type="button" title="Descargar el mapa como imagen">Guardar como PNG</button>
    </div>
  </div>
  <section id="career-hero" class="career-hero" aria-live="polite"></section>
  <section id="view-mode-toggle" class="view-mode-toggle" aria-label="Modo de visualización" hidden>
    <button id="btn-view-diagram" type="button" aria-pressed="true">Diagrama</button>
    <button id="btn-view-list" type="button" aria-pressed="false">Lista</button>
  </section>
  <section id="career-progress-floating" class="career-progress-floating" aria-live="polite"></section>

  <main>
    <div id="diagram-container">
      <svg id="arrows-svg" aria-hidden="true"></svg>
      <div id="semesters"></div>
      <div id="semesters-accordion" hidden></div>
    </div>
  </main>

  <!-- Toast notification -->
  <div id="toast" role="alert" aria-live="assertive"></div>
  <section id="achievement-stack" class="achievement-stack" aria-live="polite"></section>
  <section id="milestones" class="milestone-floating" aria-live="polite" hidden></section>
  <button id="btn-show-milestones" class="milestone-show-btn" type="button" hidden>Ver hitos</button>
  <button
    id="btn-career-fab"
    class="career-fab"
    type="button"
    aria-controls="career-fab-panel"
    aria-expanded="false"
    hidden
  >
    Cambiar carrera
  </button>
  <section id="career-fab-panel" class="career-fab-panel" aria-live="polite" hidden>
    <div class="career-fab-title">Cambiar carrera</div>
    <select id="career-select-floating" aria-label="Seleccionar carrera (flotante)"></select>
  </section>
  <section id="onboarding-guide" class="onboarding-guide" aria-live="polite" hidden>
    <div class="onboarding-step-head">
      <span id="onboarding-step-counter" class="onboarding-step-counter"></span>
      <button id="btn-onboarding-close" type="button" aria-label="Cerrar guía">✕</button>
    </div>
    <div id="onboarding-title" class="onboarding-title"></div>
    <p id="onboarding-body" class="onboarding-body"></p>
    <div class="onboarding-actions">
      <button id="btn-onboarding-prev" type="button">Anterior</button>
      <button id="btn-onboarding-next" type="button">Siguiente</button>
      <button id="btn-onboarding-never" type="button">No recordar de nuevo</button>
    </div>
  </section>
  <div id="onboarding-focus" class="onboarding-focus" aria-hidden="true" hidden></div>
  <input id="input-import-progress" type="file" accept="application/json,.json" hidden />
  <footer class="site-footer">
    <span>Autor:</span>
    <a id="author-link" href="https://github.com/n-lem" target="_blank" rel="noopener noreferrer">Nahuel</a>
  </footer>

  <script src="vendor/html2canvas.min.js" defer></script>
  <script src="core.js" defer></script>
  <script src="script.js" defer></script>
</body>
</html>
